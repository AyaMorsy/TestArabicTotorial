
@using NonFactors.Mvc.Grid;
@using System;
@*@model IEnumerable<BAL.ItemSet>*@
@model TableModel
@{
    ViewData["Title"] = "Index";

}
    <head>



        <link href="https://kendo.cdn.telerik.com/2020.2.617/styles/kendo.common.min.css" rel="stylesheet" />
        <link href="https://kendo.cdn.telerik.com/2020.2.617/styles/kendo.default.min.css" rel="stylesheet" />
        <script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
        <script src="https://kendo.cdn.telerik.com/2020.2.617/js/kendo.all.min.js"></script>

        <script src="~/js/kendo/2019.2.514/jquery.min.js"></script>
        <script src="~/js/kendo/2019.2.514/kendo.core.min.js"></script>
        <script src="~/js/kendo/2019.2.514/cultures/kendo.culture.en-US.min.js"></script>
        <script src="~/js/kendo/2019.2.514/kendo.grid.js"></script>
        <script src="~/js/kendo/2019.2.514/kendo.ui.core.min.js"></script>

    </head>
<form method="post" enctype="multipart/form-data" asp-controller="FileUpload" asp-action="Index">
    <div class="form-group">
        <div class="col-md-10">
            <p>Upload only one file using this form:</p>
            <input type="file" name="files" multiple />
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-10">
            <input type="submit" value="Upload" />
            @TempData["FileUploaded"]
        </div>
    </div>
    <div class="col-md-10">
        @* <button name="button" value="First" asp-action="Btn_click"> Get rules</button>*@
        @TempData["TimeElapsed"]

    </div>
    <div id="grid" >

    </div>

    <div>
        <table class="table table-striped" id="grid">
            <thead class="table-heading">
                <tr>
                    <th>
                        <p>Item</p>
                        @*  @Html.DisplayNameFor(model => model.newList.First().Label)*@
                    </th>
                    <th>
                        <p>Count</p>
                      @*  @Html.DisplayNameFor(model => model.newList.First().Support)*@
                    </th>


                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.newList)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Label)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Support)
                        </td>


                    </tr>
                }
            </tbody>
        </table>
        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.L1List.First().Label)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.L1List.First().Support)
                    </th>


                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.L1List)
                {


                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Label)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Support)
                        </td>


                    </tr>
                }
            </tbody>
        </table>
        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Rules.First().Label)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Rules.First().Support)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Rules.First().Confidance)
                    </th>

                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Rules)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Label)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Support)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Confidance)
                        </td>


                    </tr>
                }
            </tbody>
        </table>
    </div>








</form>
@*<div id="newsitem-grid">

  </div>
@if (TempData["DataExists"] != null && TempData["DataExists"].ToString() == "1") {
    <script>
        $(document).ready(function () {
            $("#newsitem-grid").kendoGrid({
                dataSource: {
                    transport: {
                        read: {
                            url: "/Grid1",
                            type: "POST",
                            dataType: "json",
                            data: ""
                        }
                    },
                    schema: {
                        data: "Data",
                        total: "Total",
                        errors: "Errors"
                    },
                    error: function(e) {
                        //display_kendoui_grid_error(e);
                        //// Cancel the changes
                        //this.cancelChanges();
                    },
                    pageSize: 20,
                    serverPaging: true,
                    serverFiltering: false,
                    serverSorting: false
                },
                pageable: {
                    refresh: true,
                    pageSizes: [20]
                },
                editable: false,
                scrollable: false,
                columns: [{
                    field: "Label",
                    width: 300,
                    title: "Label",

                }, {
                    field: "Support",
                    title: "Support",
                    width: 200,

                } ]
            });
        });
    </script>
}
    <script type="text/javascript">

        $(document).ready(function () {
            //search button
            $('#search-newsitem').click(function () {
                //search
                var grid = $('#newsitem-grid').data('kendoGrid');
                grid.dataSource.page(1); //new search. Set page size to 1
                //grid.dataSource.read(); we already loaded the grid above using "page" function
                return false;
            });
        });

        function additionalData() {
            var data = {
                SearchStoreId: $('#SearchStoreId').val()
            };
            addAntiForgeryToken(data);
            return data;
        }
    </script>*@ 


